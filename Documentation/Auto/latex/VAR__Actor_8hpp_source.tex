\doxysection{VAR\+\_\+\+Actor.\+hpp}
\hypertarget{VAR__Actor_8hpp_source}{}\label{VAR__Actor_8hpp_source}\index{Vantor/Source/Vantor/ActorRuntime/Include/ActorRuntime/Public/VAR\_Actor.hpp@{Vantor/Source/Vantor/ActorRuntime/Include/ActorRuntime/Public/VAR\_Actor.hpp}}
\mbox{\hyperlink{VAR__Actor_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/****************************************************************************}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Vantor\ Engine™\ -\/\ Source\ Code\ (2025)}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ Author\ \ \ \ :\ Lukas\ Rennhofer\ (@LukasRennhofer),\ Vantor\ Studios™}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ Copyright\ :\ ©\ 2025\ Lukas\ Rennhofer,\ Vantor\ Studios™}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ License\ \ \ :\ GNU\ General\ Public\ License\ v3.0}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ See\ LICENSE\ file\ for\ full\ details.}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ ****************************************************************************/}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{VCO__Vector_8hpp}{Core/Container/VCO\_Vector.hpp}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{VAR__Component_8hpp}{ActorRuntime/Public/VAR\_Component.hpp}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <typeindex>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <typeinfo>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceVE}{VE}}\ \{}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceVE_ac71b8b5090760e6e75e30c988d8cf415}{VActorID}}\ =\ uint64\_t;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classVE_1_1AActor_a2c8848103c5cb6ac3e521f9029854603}{AActor}}\ :\ \textcolor{keyword}{public}\ std::enable\_shared\_from\_this<AActor>}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVE_1_1AActor_a2c8848103c5cb6ac3e521f9029854603}{AActor}}()\ :\ \mbox{\hyperlink{classVE_1_1AActor_a50c30545fd244374e9e667e51f3f2293}{id}}(nextID++)\ \{\}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classVE_1_1AActor_a0358b681dc66a00a2f5fc1652a762cb0}{\string~AActor}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceVE_ac71b8b5090760e6e75e30c988d8cf415}{VActorID}}\ \mbox{\hyperlink{classVE_1_1AActor_a7d3062137fd9915958b554820e7a9612}{GetID}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classVE_1_1AActor_a50c30545fd244374e9e667e51f3f2293}{id}};\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Component\ management}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>\ std::shared\_ptr<T>\ \mbox{\hyperlink{classVE_1_1AActor_a63ee298b1b66b45790366878c7115f88}{AddComponent}}(Args\ \&\&...args)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_base\_of<CComponent,\ T>::value,\ \textcolor{stringliteral}{"{}T\ must\ derive\ from\ CComponent"{}});}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ comp\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ std::make\_shared<T>(\textcolor{keyword}{this},\ std::forward<Args>(args)...);}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ components[std::type\_index(\textcolor{keyword}{typeid}(T))]\ =\ comp;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comp;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classVE_1_1AActor_ad350f451c015260a93c3c907dcb260b1}{AddComponentVoid}}(Args\ \&\&...args)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_base\_of<CComponent,\ T>::value,\ \textcolor{stringliteral}{"{}T\ must\ derive\ from\ CComponent"{}});}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ comp\ =\ \mbox{\hyperlink{classVE_1_1AActor_a63ee298b1b66b45790366878c7115f88}{AddComponent<T>}}(std::forward<Args>(args)...);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ std::shared\_ptr<T>\ \mbox{\hyperlink{classVE_1_1AActor_aca075090b624de7aeb5c450fa8e1f904}{GetComponent}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00052\ \textcolor{keyword}{\ \ \ \ \ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ components.find(std::type\_index(\textcolor{keyword}{typeid}(T)));}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ components.end())}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::static\_pointer\_cast<T>(it-\/>second);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classVE_1_1AActor_a154f2b6ed721179e03dc9ba719b28e41}{HasComponent}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ components.count(std::type\_index(\textcolor{keyword}{typeid}(T)))\ >\ 0;\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classVE_1_1AActor_a57375188c3e86cc3e5687c75bed7a22d}{RemoveComponent}}(std::type\_index\ compType)\ \{\ components.erase(compType);\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Scene\ graph}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classVE_1_1AActor_a6c69cb6928bb7779fde4dceea580d5a2}{AddChild}}(std::shared\_ptr<AActor>\ child)}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (child)}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ child-\/>parent\ =\ shared\_from\_this();}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ children.push\_back(std::move(child));}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classVE_1_1AActor_a7b5d9aa2c85e6ee46b4027e529b7fbb4}{RemoveChild}}(std::shared\_ptr<AActor>\ child)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!child)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ std::find(children.begin(),\ children.end(),\ child);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ children.end())}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*it)-\/>parent.reset();}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ children.erase(it);}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ std::weak\_ptr<AActor>\ \mbox{\hyperlink{classVE_1_1AActor_a60e40df831ba8763cb5fdc1c40fd1b1d}{GetParent}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ parent;\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classVE_1_1Internal_1_1Core_1_1Container_1_1TVector}{VE::Internal::Core::Container::TVector<std::shared\_ptr<AActor>}}>\ \&\mbox{\hyperlink{classVE_1_1AActor_af62e2b606388079aaeb4dc4f539362a5}{GetChildren}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ children;\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceVE_ac71b8b5090760e6e75e30c988d8cf415}{VActorID}}\ \mbox{\hyperlink{classVE_1_1AActor_a50c30545fd244374e9e667e51f3f2293}{id}};\ \textcolor{comment}{//\ The\ Entity\ Actor\ ID}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::type\_index,\ VComponentPtr>\ components;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classVE_1_1Internal_1_1Core_1_1Container_1_1TVector}{VE::Internal::Core::Container::TVector<std::shared\_ptr<AActor>}}>\ children;}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ std::weak\_ptr<AActor>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parent;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespaceVE_ac71b8b5090760e6e75e30c988d8cf415}{VActorID}}\ nextID;}
\DoxyCodeLine{00099\ \ \ \ \ \};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ Initialize\ static\ member}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespaceVE_ac71b8b5090760e6e75e30c988d8cf415}{VActorID}}\ AActor::nextID\ =\ 1;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \}\ \textcolor{comment}{//\ namespace\ VE::Internal::Actor}}

\end{DoxyCode}
